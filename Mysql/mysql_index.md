#索引index是提高mysql获取数据效率的数据结构

`mysql索引底层数据结构: B+ Tree`

`索引的目的`：提高查询效率;
`磁盘IO`：磁盘IO比较耗时(`机械运动消耗`)，所以当计算机读取一个地址的数据时，将相邻的数据也读取到内存中, 每次读取的数据称为一页, 页的大小与操作系统有关;
`索引数据结构`: 目的为降低每次查询数据时的磁盘IO次数 (B+树), IO次数取决于树的高度;
`索引的最左匹配`: B+树按照从左到右的顺序建立搜索树;

`建立索引的原则`:
1. 最左匹配原则: mysql会一直右匹配到>, <, between, like就停止匹配，例如a=1 and b=2 and c<3 and d=4 `则d用不到索引`;
2. 索引列不能参与计算: 如from_unixtime(create_time)='2014-01-01'就不能使用索引, 应写成create_time=unix_timestamp('2014-01-01')
3. =和in可以乱序, 例如a=1 and b=2 and c=3 建立的(a, b, c)索引可以任意乱序, mysql会自动优化成索引可以识别的形式;
4. 尽量使用扩展索引: ...
5. 尽量选择区分度高的列作为索引: ...

`慢查询优化的基本步骤`
1. 设置SQL_NO_CACHE
2. where单表查, 锁定最小记录返回表, 把查询语句的where应用到表的返回记录最小的表开始查起
3. explain, 是否与1中的结果一致(从锁定记录最小的表开始查询)
...

#[高性能MySQL]

`联合索引/复合索引`
联合索引即复合索引, 对于复合索引, `mysql按从左到右的顺序使用索引中的字段`, `查询使用的索引的部分只能是最左的部分`(最左前缀);
例: index(a, b, c)支持a, ab, abc, 但是不支持bc;

`索引的物理存储`
索引本身较大, 不可能全部存储与内存中, 因此索引是`以索引文件的形式存储于磁盘上`;
衡量索引好坏的因素就是查找过程中, 磁盘IO的渐进复杂度, 即`索引的结构组织应尽可能减少查找过程中的磁盘IO次数`;
